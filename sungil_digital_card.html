<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì˜¤ëŠ˜ì˜ ë””ì§€í„¸ ì•½ì† ì¹´ë“œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background-color: #f0f8ff;
    }
    h1 {
      text-align: center;
      font-size: 22px;
      margin-bottom: 10px;
    }
    .card {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 400px;
      margin: auto;
    }
    .card button {
        display: block;
        margin: 20px auto 0;
    }
    label {
      display: block;
      margin: 10px 0;
    }
    input[type="text"] {
      width: 90%;
      padding: 8px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 15px;
      padding: 10px 15px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #4CAF50;
      color: #fff;
      vertical-align: middle;
    }
    #resultCard {
      display: none;
      background: #fff;
      background-image: url('images/logo2.png'); /* âœ… ë¡œì»¬ ì´ë¯¸ì§€ */
      background-size: 50%;
      background-repeat: no-repeat;
      background-position: center;
      padding: 20px;
      border-radius: 12px;
      margin-top: 30px;
      text-align: center;
      max-width: 400px;
      margin: 30px auto 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
    }
    #resultCard ul {
      list-style: none;
      padding: 0;
      margin: 15px 0;
      text-align: left;
    }
    #resultCard ul li {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ“± ì˜¤ëŠ˜ì˜ ë””ì§€í„¸ ì•½ì† ë§Œë“¤ê¸°</h1>

  <div class="card">
    <p>ì˜¤ëŠ˜ ì†Œí’ ì¤‘ ì§€í‚¬ ë””ì§€í„¸ ì˜ˆì ˆì„ ì„ íƒí•´ë³´ì„¸ìš”! <br><strong>(4ê°œ ì´ìƒ)</strong></p>

    <label><input type="checkbox" class="rule" value="ğŸ“¸ ì¹œêµ¬ ì‚¬ì§„ì„ ì°ì„ ë• ë°˜ë“œì‹œ í—ˆë½ì„ ë°›ê³  ì°ê² ìŠµë‹ˆë‹¤."> ğŸ“¸ ì¹œêµ¬ ì‚¬ì§„ì„ ì°ì„ ë• ë°˜ë“œì‹œ í—ˆë½ì„ ë°›ê³  ì°ê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="ğŸ¤³ ì¸ì¦ìƒ·ì€ ì¹œêµ¬ì˜ ì–¼êµ´ì´ë‚˜ ì •ë³´ê°€ ë“œëŸ¬ë‚˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•˜ê² ìŠµë‹ˆë‹¤."> ğŸ¤³ ì¸ì¦ìƒ·ì€ ì¹œêµ¬ì˜ ì–¼êµ´ì´ë‚˜ ì •ë³´ê°€ ë“œëŸ¬ë‚˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•˜ê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="ğŸ’¬ ë‹¨ì²´ ì±„íŒ…ë°©ì—ì„œëŠ” ìƒëŒ€ë¥¼ ë°°ë ¤í•˜ëŠ” ë§íˆ¬ë¥¼ ì“°ê² ìŠµë‹ˆë‹¤."> ğŸ’¬ ë‹¨ì²´ ì±„íŒ…ë°©ì—ì„œëŠ” ìƒëŒ€ë¥¼ ë°°ë ¤í•˜ëŠ” ë§íˆ¬ë¥¼ ì“°ê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="ğŸ”• ì¡°ìš©íˆ í•´ì•¼ í•  ì¥ì†Œì—ì„œëŠ” ìŠ¤ë§ˆíŠ¸í° ì†Œë¦¬ë¥¼ ë„ê² ìŠµë‹ˆë‹¤."> ğŸ”• ì¡°ìš©íˆ í•´ì•¼ í•  ì¥ì†Œì—ì„œëŠ” ìŠ¤ë§ˆíŠ¸í° ì†Œë¦¬ë¥¼ ë„ê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="ğŸš« ì¹œêµ¬ì˜ ì‚¬ì§„ì´ë‚˜ ì˜ìƒì„ í—ˆë½ ì—†ì´ ê³µìœ í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤."> ğŸš« ì¹œêµ¬ì˜ ì‚¬ì§„ì´ë‚˜ ì˜ìƒì„ í—ˆë½ ì—†ì´ ê³µìœ í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="ğŸ“± ìŠ¤ë§ˆíŠ¸í°ì€ ë†€ì´ì™€ ì†Œí†µì˜ ë„êµ¬ë¡œ ê¸ì •ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤."> ğŸ“± ìŠ¤ë§ˆíŠ¸í°ì€ ë†€ì´ì™€ ì†Œí†µì˜ ë„êµ¬ë¡œ ê¸ì •ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="â³ ì†Œí’ ì‹œê°„ì—ëŠ” í™”ë©´ë³´ë‹¤ëŠ” ì‚¬ëŒê³¼ì˜ ì‹œê°„ì„ ë” ì†Œì¤‘íˆ í•˜ê² ìŠµë‹ˆë‹¤."> â³ ì†Œí’ ì‹œê°„ì—ëŠ” í™”ë©´ë³´ë‹¤ëŠ” ì‚¬ëŒê³¼ì˜ ì‹œê°„ì„ ë” ì†Œì¤‘íˆ í•˜ê² ìŠµë‹ˆë‹¤.</label>
    <label><input type="checkbox" class="rule" value="ğŸ§  ì˜¬ë¦¬ê¸° ì „ì— í•œ ë²ˆ ë” ìƒê°í•˜ê³  í–‰ë™í•˜ê² ìŠµë‹ˆë‹¤."> ğŸ§  ì˜¬ë¦¬ê¸° ì „ì— í•œ ë²ˆ ë” ìƒê°í•˜ê³  í–‰ë™í•˜ê² ìŠµë‹ˆë‹¤.</label>

    <input type="text" id="studentId" placeholder="í•™ë²ˆ ì…ë ¥">
    <input type="text" id="studentName" placeholder="ì´ë¦„ ì…ë ¥">
    
    <button onclick="generateCard()">ğŸ“Œ ì•½ì† ì¹´ë“œ ë§Œë“¤ê¸°</button>
  </div>

  <div id="resultCard">
    <h2>ğŸ“œ ì˜¤ëŠ˜ì˜ ë””ì§€í„¸ ì•½ì† ì¹´ë“œ</h2>
    <p><strong id="outputName"></strong> í•™ìƒì˜ ë‹¤ì§</p>
    <ul id="selectedRules"></ul>
    <p><strong>ì„±ì¼ì •ë³´ê³ ë“±í•™êµ</strong></p>
    <p>ë°œê¸‰ì¼: <span id="today"></span></p>
    <button onclick="downloadCard()">ğŸ“¸ ìº¡ì²˜í•´ì„œ ì €ì¥í•˜ê¸°</button>
  </div>

  <script>
    function generateCard() {
      const rules = Array.from(document.querySelectorAll('.rule:checked')).map(cb => cb.value);
      const name = document.getElementById("studentName").value.trim();
      const id = document.getElementById("studentId").value.trim();

      if (rules.length < 4 || !name || !id) {
          alert("4ê°œ ì´ìƒ ì„ íƒí•˜ê³  ì´ë¦„ê³¼ í•™ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”.");
          return;
      }

      document.getElementById("outputName").innerText = `${id} ${name}`;
      const ul = document.getElementById("selectedRules");
      ul.innerHTML = "";
      rules.forEach(rule => {
          const li = document.createElement("li");
          li.innerText = rule;
          ul.appendChild(li);
      });

      document.getElementById("resultCard").style.display = "block";
      document.getElementById("today").innerText = new Date().toISOString().split('T')[0];
    }

    function downloadCard() {
      const button = document.querySelector("#resultCard button");
      button.style.display = "none"; // ìº¡ì²˜ ì „ ë²„íŠ¼ ìˆ¨ê¸°ê¸°

      html2canvas(document.querySelector("#resultCard")).then(canvas => {
        const link = document.createElement("a");
        link.download = "ì˜¤ëŠ˜ì˜_ë””ì§€í„¸_ì•½ì†ì¹´ë“œ.png";
        link.href = canvas.toDataURL("image/png");
        link.click();

        button.style.display = "inline-block"; // ìº¡ì²˜ í›„ ë‹¤ì‹œ ë³´ì´ê²Œ
      });
    }
  </script>
</body>
</html>
