<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë””ì§€í„¸ ì˜ˆì ˆ ì¸ì¦ í€´ì¦ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f0f0f0;
    }
    h1 { font-size: 24px; }
    .quiz-box {
      background: #fff;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 15px;
      font-size: 16px;
      margin: 5px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .correct { background: #c8f7c5; }
    .wrong { background: #f7c5c5; }
    .result {
      font-weight: bold;
      margin-top: 10px;
    }
    .comment {
      font-size: 14px;
      color: #555;
      margin-top: 5px;
    }

    #citizenCard {
      display: none;
      position: relative;
      background: #fff;
      background-image: url('images/logo2.png'); /* âœ… ë¡œì»¬ ì´ë¯¸ì§€ */
      background-size: 45%;
      background-repeat: no-repeat;
      background-position: center;
      padding: 20px;
      border-radius: 10px;
      margin-top: 30px;
      width: 100%;
      height: 100%;
      max-width: 400px;
      min-height: 300px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      text-align: center;
      overflow: hidden;
    }

    #citizenCard * {
      position: relative;
      z-index: 1;
    }

    #citizenCard input {
      padding: 8px;
      font-size: 16px;
      margin: 5px;
      width: 80%;
      max-width: 250px;
      height: 36px;
      box-sizing: border-box;
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid #ccc;
    }

    #downloadBtn, #resetBtn {
      margin-top: 15px;
      display: none;
    }
  </style>
</head>
<body>
  <h1>ì´ê±´ OK? NO! ğŸ™…â€â™€ï¸</h1>
  <h2>ğŸ“¸ ì†Œí’ ìƒí™©ì—ì„œ ì§€ì¼œì•¼ í•  ë””ì§€í„¸ ì˜ˆì ˆì„ ë§ì¶°ë³´ì„¸ìš”!</h2>

  <div id="quizArea">
    <div class="quiz-box">
      <p><strong>1. í˜„ì¥ì²´í—˜ ë„ì¤‘ ì¹œêµ¬ ì‚¬ì§„ì„ í—ˆë½ ì—†ì´ ë‹¨ì²´ ì±„íŒ…ë°©ì— ì˜¬ë ¸ë‹¤.</strong></p>
      <button onclick="showResult(1, 'O', this)">â­• OK</button>
      <button onclick="showResult(1, 'X', this)">âŒ NO</button>
      <div class="result" id="result1"></div>
      <div class="comment" id="comment1"></div>
    </div>

    <div class="quiz-box">
      <p><strong>2. ì†Œí’ ì¸ì¦ìƒ·ì— í•™êµ ì´ë¦„ì´ ì íŒ ë‹¨ì²´ë³µì´ ë³´ì˜€ë‹¤.</strong></p>
      <button onclick="showResult(2, 'O', this)">â­• OK</button>
      <button onclick="showResult(2, 'X', this)">âŒ NO</button>
      <div class="result" id="result2"></div>
      <div class="comment" id="comment2"></div>
    </div>

    <div class="quiz-box">
      <p><strong>3. ì†Œí’ ì¤‘ ì¹œêµ¬ê°€ ì¶¤ì¶”ëŠ” ëª¨ìŠµì„ ì¬ë¯¸ë¡œ ëª°ë˜ ì´¬ì˜í–ˆë‹¤.</strong></p>
      <button onclick="showResult(3, 'O', this)">â­• OK</button>
      <button onclick="showResult(3, 'X', this)">âŒ NO</button>
      <div class="result" id="result3"></div>
      <div class="comment" id="comment3"></div>
    </div>

    <div class="quiz-box">
      <p><strong>4. ì¹œêµ¬ë“¤ê³¼ í•©ì˜í•´ ì§§ì€ ë¸Œì´ë¡œê·¸ ì˜ìƒì„ ì°ê³ , ì„œë¡œ í™•ì¸í•œ ë’¤ ì˜¬ë ¸ë‹¤.</strong></p>
      <button onclick="showResult(4, 'O', this)">â­• OK</button>
      <button onclick="showResult(4, 'X', this)">âŒ NO</button>
      <div class="result" id="result4"></div>
      <div class="comment" id="comment4"></div>
    </div>

    <div class="quiz-box">
      <p><strong>5. í˜„ì¥ì²´í—˜ í›„ ë°›ì€ ë‹¨ì²´ì‚¬ì§„ì„ ìº¡ì²˜í•´ì„œ ë‹¤ë¥¸ ë°˜ ì¹œêµ¬ì—ê²Œ ì „ë‹¬í–ˆë‹¤.</strong></p>
      <button onclick="showResult(5, 'O', this)">â­• OK</button>
      <button onclick="showResult(5, 'X', this)">âŒ NO</button>
      <div class="result" id="result5"></div>
      <div class="comment" id="comment5"></div>
    </div>

    <button id="resetBtn" onclick="location.reload()">ğŸ”„ ë‹¤ì‹œ í’€ê¸°</button>
  </div>

  <!-- ë””ì§€í„¸ ì‹œë¯¼ ì¸ì¦ì„œ -->
  <div id="citizenCard">
    <h2>ğŸ“ ë””ì§€í„¸ ì˜ˆì ˆ ì¸ì¦ì„œ</h2>
    <p>ì´ í•™ìƒì€ ì˜¬ë°”ë¥¸ ë””ì§€í„¸ ì˜ˆì ˆì„ ì•Œê³  ì‹¤ì²œí•  ìˆ˜ ìˆëŠ”<br><strong>ë””ì§€í„¸ ì‹œë¯¼</strong>ì„ì„ ì¸ì¦í•©ë‹ˆë‹¤.</p>
    <input type="text" id="studentId" placeholder="í•™ë²ˆ ì…ë ¥">
    <input type="text" id="studentName" placeholder="ì´ë¦„ ì…ë ¥">
    <p style="font-weight: bold;">ì„±ì¼ì •ë³´ê³ ë“±í•™êµ</p>
    <p>ë°œê¸‰ì¼: <span id="today"></span></p>
  </div>

  <button id="downloadBtn" onclick="downloadCard()">ğŸ“¸ ì‹œë¯¼ì¦ ìº¡ì²˜í•˜ê¸°</button>

  <script>
    const answers = { 1: 'X', 2: 'X', 3: 'X', 4: 'O', 5: 'X' };
    const comments = {
      1: "ğŸ“¸ ì¹œêµ¬ ì–¼êµ´ì€ ë°˜ë“œì‹œ í—ˆë½ë°›ê³  ê³µìœ í•´ì•¼ í•´ìš”.",
      2: "ğŸ« í•™êµ ë‹¨ì²´ë³µì€ ì‹ ìƒì„ ìœ ì¶”í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ìš”.",
      3: "ğŸ¥ ëª°ë˜ ì´¬ì˜ì€ ì‚¬ìƒí™œ ì¹¨í•´ê°€ ë  ìˆ˜ ìˆì–´ìš”. ë°˜ë“œì‹œ ë™ì˜ë°›ì•„ì•¼ í•´ìš”.",
      4: "ğŸ“¹ ëª¨ë‘ í•¨ê»˜ í™•ì¸í•˜ê³  ì˜¬ë ¸ë‹¤ë©´ ë””ì§€í„¸ ë§¤ë„ˆ êµ¿!",
      5: "ğŸš« ì‚¬ì§„ì„ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ í•  ë• í•­ìƒ ì£¼ì˜ê°€ í•„ìš”í•´ìš”."
    };
    const locked = {};
    let score = 0;
    let totalAnswered = 0;

    function showResult(q, choice, btn) {
      if (locked[q]) return;
      const correct = answers[q];
      const result = document.getElementById('result' + q);
      const comment = document.getElementById('comment' + q);
      const parent = btn.parentElement;
      const buttons = parent.querySelectorAll('button');

      buttons.forEach(b => {
        b.disabled = true;
        if (b === btn) {
          b.classList.add(choice === correct ? 'correct' : 'wrong');
        }
      });

      if (choice === correct) {
        result.innerText = 'âœ… ì •ë‹µì´ì—ìš”!';
        score++;
      } else {
        result.innerText = 'âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”.';
      }

      comment.innerText = comments[q];
      locked[q] = true;
      totalAnswered++;

      if (totalAnswered === 5) {
        document.getElementById('resetBtn').style.display = 'inline-block';
        if (score >= 4) {
          document.getElementById('citizenCard').style.display = 'block';
          document.getElementById('downloadBtn').style.display = 'inline-block';
          const today = new Date().toISOString().split('T')[0];
          document.getElementById('today').innerText = today;
        }
      }
    }

    function downloadCard() {
      html2canvas(document.querySelector("#citizenCard")).then(canvas => {
        const link = document.createElement("a");
        link.download = "ë””ì§€í„¸_ì˜ˆì ˆ_ì¸ì¦ì„œ.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      });
    }
  </script>
</body>
</html>
